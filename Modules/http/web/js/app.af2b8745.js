(function(e){function t(t){for(var o,i,l=t[0],s=t[1],c=t[2],f=0,m=[];f<l.length;f++)i=l[f],a[i]&&m.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),a=n.n(o);a.a},"2d0f":function(e,t,n){"use strict";n.r(t);n("7f7f");var o={namespaced:!0,state:{goal:0,name:"",checkLogin:!1},mutations:{setName:function(e,t){e.name=t},setGoal:function(e,t){e.goal=t},setCheckLogin:function(e,t){e.checkLogin=t}},actions:{},getters:{getName:function(e){return e.name},getGoal:function(e){return e.goal},getCheckLogin:function(e){return e.checkLogin}}};t["default"]=o},"467e":function(e,t,n){"use strict";var o=n("e9b0"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-container",[n("el-header",[n("my-nav")],1),n("el-main",[n("router-view",{staticClass:"view"})],1)],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal",router:e.routerOpen},on:{select:e.handleSelect}},[[n("el-menu-item",{attrs:{index:"tally"}},[n("div",{staticClass:"el-menu-title"},[e._v("Tally Book")])]),e.getCheckLogin?n("el-menu-item",{attrs:{index:"setting"}},[n("div",{staticClass:"el-menu-title"},[e._v("Hi "+e._s(e.username)+", your goal fee is "+e._s(e.thousandFormat(e.goal))+" RMB")])]):e._e()]],2)],1)},l=[],s=(n("7f7f"),n("cebc")),c=n("2f62"),u=(n("6b54"),n("c5f6"),n("a481"),{methods:{checkLogin:function(e){e||this.$router.push("login")},formatFee:function(e){return e=e.replace(/[^\d\.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),Number(e).toFixed(2)},thousandFormat:function(e){return e.toString().replace(/\d+/,function(e){return e.replace(/(\d)(?=(\d{3})+$)/g,function(e){return e+","})})}}}),f={name:"",mixins:[u],components:{},data:function(){return{routerOpen:!0,pathname:document.location.pathname}},computed:Object(s["a"])({},Object(c["b"])("moduleUser",{username:"getName",getCheckLogin:"getCheckLogin",goal:"getGoal"}),{activeIndex:function(){return this.$router.app._route.name}}),methods:{handleSelect:function(e,t){}}},m=f,p=(n("467e"),n("2877")),d=Object(p["a"])(m,i,l,!1,null,"074b4464",null),h=d.exports,g={name:"app",components:{MyNav:h}},b=g,v=(n("034f"),Object(p["a"])(b,a,r,!1,null,null,null)),y=v.exports,F=(n("ac6a"),n("456d"),n("8c4f")),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-box"},[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"loginForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules}},[n("el-form-item",{attrs:{label:"用户名",prop:"name"}},[n("el-input",{attrs:{type:"username",autocomplete:"off"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"pass"}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.loginForm.pass,callback:function(t){e.$set(e.loginForm,"pass",t)},expression:"loginForm.pass"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("GO")])],1)],1)],1)],1)},O=[],x={name:"",components:{},created:function(){this.setCheckLogin(!1)},data:function(){var e=function(e,t,n){""===t?n(new Error("请输入用户名")):n()},t=function(e,t,n){""===t?n(new Error("请输入密码")):n()};return{loginForm:{name:"",pass:""},rules:{name:[{required:!0,validator:e,trigger:"blur"}],pass:[{required:!0,validator:t,trigger:"blur"}]}}},methods:Object(s["a"])({},Object(c["c"])("moduleUser",{setName:"setName",setCheckLogin:"setCheckLogin"}),{submitForm:function(e){var t=this;this.$refs[e].validate(function(n){if(!n)return console.log("error submit!!"),!1;t.checkLogin(t.loginForm)?(t.setName(t.loginForm.name),t.setCheckLogin(!0),t.$router.push("tally")):(alert("账号或密码错误！！！"),t.$refs[e].resetFields())})},checkLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"":t,o=e.pass,a=void 0===o?"":o;return"Landscape"===n&&"123"===a}})},j=x,C=(n("5971"),Object(p["a"])(j,k,O,!1,null,"38ee3db6",null)),D=C.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tally-box"},[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"feeForm",attrs:{model:e.feeForm,"status-icon":"","label-position":"left","label-width":"60px"}},[n("el-form-item",{attrs:{label:"吃喝",prop:"food"}},[n("el-input",{on:{change:function(t){e.changeValue(t,"food")}},model:{value:e.feeForm.food,callback:function(t){e.$set(e.feeForm,"food",t)},expression:"feeForm.food"}})],1),n("el-form-item",{attrs:{label:"玩乐",prop:"entertainment"}},[n("el-input",{on:{change:function(t){e.changeValue(t,"entertainment")}},model:{value:e.feeForm.entertainment,callback:function(t){e.$set(e.feeForm,"entertainment",t)},expression:"feeForm.entertainment"}})],1),n("el-form-item",{attrs:{label:"购物",prop:"shopping"}},[n("el-input",{on:{change:function(t){e.changeValue(t,"shopping")}},model:{value:e.feeForm.shopping,callback:function(t){e.$set(e.feeForm,"shopping",t)},expression:"feeForm.shopping"}})],1),n("el-form-item",{attrs:{label:"话费",prop:"telephone"}},[n("el-input",{on:{change:function(t){e.changeValue(t,"telephone")}},model:{value:e.feeForm.telephone,callback:function(t){e.$set(e.feeForm,"telephone",t)},expression:"feeForm.telephone"}})],1),n("el-form-item",{attrs:{label:"车费",prop:"transport"}},[n("el-input",{on:{change:function(t){e.changeValue(t,"transport")}},model:{value:e.feeForm.transport,callback:function(t){e.$set(e.feeForm,"transport",t)},expression:"feeForm.transport"}})],1),n("el-form-item",{attrs:{label:"其他",prop:"other"}},[n("el-input",{on:{change:function(t){e.changeValue(t,"other")}},model:{value:e.feeForm.other,callback:function(t){e.$set(e.feeForm,"other",t)},expression:"feeForm.other"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("feeForm")}}},[e._v("GO")])],1)],1)],1)],1)},L=[],w={name:"",mixins:[u],components:{},created:function(){this.checkLogin(this.getCheckLogin),this.feeForm=this.getTodayData},data:function(){return{feeForm:{food:"",entertainment:"",shopping:"",telephone:"",transport:"",other:""}}},computed:Object(s["a"])({},Object(c["b"])("moduleUser",{getCheckLogin:"getCheckLogin"}),Object(c["b"])("moduleTableData",{getTodayData:"getTodayData"})),methods:Object(s["a"])({},Object(c["c"])("moduleTableData",{setTodayData:"setTodayData"}),{submitForm:function(e){this.setTodayData(this[e]),this.$router.push("visual")},changeValue:function(e,t){this.feeForm[t]=this.formatFee(e)}})},_=w,T=(n("d4ed"),Object(p["a"])(_,$,L,!1,null,"498f145e",null)),E=T.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"visual-box"},[n("el-table",{staticStyle:{width:"90%",margin:"0 auto"},attrs:{data:e.tableData,border:""}},e._l(e.tableColumn,function(e){return n("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label}})}),1)],1)},M=[],U={name:"",mixins:[u],components:{},created:function(){this.checkLogin(this.getCheckLogin),this.getDataFromApi()},data:function(){return{tableColumn:[{prop:"date",label:"日期"},{prop:"food",label:"吃喝"},{prop:"entertainment",label:"玩乐"},{prop:"shopping",label:"购物"},{prop:"telephone",label:"话费"},{prop:"transport",label:"车费"},{prop:"other",label:"其他"}],tableData:[]}},computed:Object(s["a"])({},Object(c["b"])("moduleUser",{getCheckLogin:"getCheckLogin"}),Object(c["b"])("moduleTableData",{todayData:"getTodayData"})),methods:{getDataFromApi:function(){var e=this;this.$api.get("/data/tableData",null,function(t){e.tableData=t,e.tableData.unshift(e.todayData)},function(e){throw new e(e)})}}},G=U,N=Object(p["a"])(G,S,M,!1,null,"50099498",null),P=N.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-box"},[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"goalForm",attrs:{model:e.goalForm,"status-icon":"","label-position":"left","label-width":"80px"}},[n("el-form-item",{attrs:{label:"目标金额",prop:"fee"}},[n("el-input",{on:{change:function(t){e.changeValue(t,"fee")}},model:{value:e.goalForm.fee,callback:function(t){e.$set(e.goalForm,"fee",t)},expression:"goalForm.fee"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("goalForm")}}},[e._v("GO")])],1)],1)],1)],1)},R=[],q={name:"",mixins:[u],components:{},created:function(){this.checkLogin(this.getCheckLogin)},data:function(){return{goalForm:{fee:""}}},computed:Object(s["a"])({},Object(c["b"])("moduleUser",{getCheckLogin:"getCheckLogin"})),methods:Object(s["a"])({},Object(c["c"])("moduleUser",{setGoal:"setGoal"}),{submitForm:function(e){""!==this[e].fee&&this.setGoal(this[e].fee),this.$router.go(-1)},changeValue:function(e,t){this.goalForm[t]=this.formatFee(e)}})},A=q,H=(n("7f7fb"),Object(p["a"])(A,V,R,!1,null,"bdf290d0",null)),J=H.exports,z={tally:{title:"记账",name:"tally",component:E},visual:{title:"视图",name:"visual",component:P},setting:{title:"设置",name:"setting",component:J},login:{title:"登录",name:"login",component:D}},B=z;o["default"].use(F["a"]);var I=[],Y="",Z=Object.keys(B),K=function(e,t){I.push({path:"/".concat(e),name:e,component:t})};Z.forEach(function(e,t){var n;if(B[e].subpages){var o=Object.keys(B[e].subpages),a=B[e].subpages;o.forEach(function(e,t){0===t&&(n=e),K(e,a[e].component)})}else 0===t&&(n=e),K(e,B[e].component);0===t&&(Y=n)}),I.push({path:"/",redirect:"/".concat(Y)});var Q=new F["a"]({mode:"hash",base:"",routes:I});o["default"].use(c["a"]);var W=n("d307"),X={};W.keys().forEach(function(e){var t=e.substring(2,e.length-3);X[t]=W(e).default});var ee=new c["a"].Store({modules:X}),te=ee,ne=n("5c96"),oe=n.n(ne);n("0fae");o["default"].use(oe.a);n("4917");var ae=n("bc3a"),re=n.n(ae),ie="";function le(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function se(e){for(var t in e)null===e[t]&&delete e[t],"string"===le(e[t])?e[t]=e[t].trim():"object"===le(e[t])?e[t]=se(e[t]):"array"===le(e[t])&&(e[t]=se(e[t]));return e}function ce(e,t,n,o,a){n&&(n=se(n)),re()({method:e,url:t,data:"POST"===e||"PUT"===e?n:null,params:"GET"===e||"DELETE"===e?n:null,baseURL:ie,withCredentials:!1}).then(function(e){200===e.status?o&&o(e.data):a?a(e):window.alert("error: "+JSON.stringify(e.data))}).catch(function(e){var t=e.response;e&&window.alert("api error, HTTP CODE: "+t.status)})}var ue={get:function(e,t,n,o){return ce("GET",e,t,n,o)},post:function(e,t,n,o){return ce("POST",e,t,n,o)},put:function(e,t,n,o){return ce("PUT",e,t,n,o)},delete:function(e,t,n,o){return ce("DELETE",e,t,n,o)}},fe=n("313e"),me=n.n(fe);o["default"].prototype.$api=ue,o["default"].prototype.$echarts=me.a,o["default"].config.productionTip=!1,n("9523"),new o["default"]({router:Q,store:te,render:function(e){return e(y)}}).$mount("#app")},5971:function(e,t,n){"use strict";var o=n("7cec"),a=n.n(o);a.a},"64a9":function(e,t,n){},"7cec":function(e,t,n){},"7d6f":function(e,t,n){},"7f7fb":function(e,t,n){"use strict";var o=n("865c"),a=n.n(o);a.a},"865c":function(e,t,n){},9523:function(e,t,n){"use strict";n.r(t);for(var o=n("96eb"),a=n.n(o),r=a.a.Random,i=[],l=0;l<10;l++){var s={food:r.float(0,100,0,2),entertainment:r.float(0,100,0,2),shopping:r.float(0,100,0,2),telephone:r.float(0,100,0,2),transport:r.float(0,100,0,2),other:r.float(0,100,0,2),date:r.date()};i.push(s)}var c=i;a.a.mock("/data/tableData","get",c)},"9b3c":function(e,t,n){"use strict";n.r(t);n("3b2b"),n("a481");Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var o={namespaced:!0,state:{todayData:{food:"",entertainment:"",shopping:"",telephone:"",transport:"",other:""}},mutations:{setTodayData:function(e,t){e.todayData=t,e.todayData.date=(new Date).format("yyyy-MM-dd")}},actions:{},getters:{getTodayData:function(e){return e.todayData}}};t["default"]=o},d307:function(e,t,n){var o={"./moduleTableData.js":"9b3c","./moduleUser.js":"2d0f"};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id="d307"},d4ed:function(e,t,n){"use strict";var o=n("7d6f"),a=n.n(o);a.a},e9b0:function(e,t,n){}});
//# sourceMappingURL=app.af2b8745.js.map